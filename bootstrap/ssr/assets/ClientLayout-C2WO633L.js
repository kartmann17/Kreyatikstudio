import{jsxs as e,jsx as a}from"react/jsx-runtime";import{useState as r}from"react";import{usePage as l,Link as t,router as i}from"@inertiajs/react";function s({children:s,pageTitle:n="Espace Client"}){var c,o,d,m,h,u;const{auth:f,flash:x}=l().props,[g,p]=r(!1),[v,b]=r(!1),[N,y]=r(!1),w=[{name:"Tableau de bord",href:"/client/dashboard",icon:"fa-tachometer-alt",active:route().current("client.dashboard")},{name:"Mon profil",href:"/client/profile",icon:"fa-user",active:route().current("client.profile.*")},{name:"Mes projets",href:"/client/projects",icon:"fa-project-diagram",active:route().current("client.projects.*")},{name:"Mes tickets",href:"/client/tickets",icon:"fa-bug",active:route().current("client.tickets.*")},{name:"Retour au site",href:"/",icon:"fa-home",active:!1}],k=e=>{e.preventDefault(),i.post("/logout")},C=()=>{var e,a;return(null==(e=f.user)?void 0:e.profile_photo_url)||`https://ui-avatars.com/api/?name=${encodeURIComponent((null==(a=f.user)?void 0:a.name)||"User")}&color=7F9CF5&background=EBF4FF`};return e("div",{className:"flex h-screen overflow-hidden",children:[a("aside",{className:(g?"w-20":"w-64")+" bg-gray-800 text-white hidden md:block transition-all duration-200",children:e("div",{className:"flex flex-col h-full",children:[a("div",{className:"flex items-center justify-center h-16 px-4 bg-gray-900",children:e("div",{className:"flex items-center",children:[a("img",{src:"/images/Studiosansfond.png",alt:"Kréyatik Studio",className:"h-8 w-auto"}),!g&&a("span",{className:"ml-2 text-xl font-bold",children:"Kréyatik Studio"})]})}),e("div",{className:"flex items-center p-4 border-b border-gray-700",children:[a("div",{className:"flex-shrink-0",children:a("img",{className:"h-10 w-10 rounded-full",src:C(),alt:null==(c=f.user)?void 0:c.name})}),!g&&e("div",{className:"ml-3",children:[a("p",{className:"text-sm font-medium text-white",children:null==(o=f.user)?void 0:o.name}),a("p",{className:"text-xs text-gray-400",children:"Client"})]})]}),a("nav",{className:"mt-4 flex-grow overflow-y-auto",children:a("ul",{className:"px-2",children:w.map(r=>a("li",{className:"mb-1",children:e(t,{href:r.href,className:"flex items-center px-4 py-2 rounded-lg "+(r.active?"bg-gray-900 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"),children:[a("i",{className:`fas ${r.icon} w-5 h-5 mr-3`}),!g&&a("span",{children:r.name})]})},r.name))})}),a("div",{className:"p-4 border-t border-gray-700",children:e("button",{onClick:k,className:"flex items-center w-full px-4 py-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-700",children:[a("i",{className:"fas fa-sign-out-alt w-5 h-5 mr-3"}),!g&&a("span",{children:"Déconnexion"})]})})]})}),v&&a("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-40 md:hidden",children:e("div",{className:"relative pt-4 pb-3 h-full overflow-y-auto bg-gray-800 w-64",children:[e("div",{className:"flex items-center justify-between px-4",children:[e("div",{className:"flex items-center",children:[a("img",{src:"/images/Studiosansfond.png",alt:"Kréyatik Studio",className:"h-8 w-auto mr-2"}),a("span",{className:"text-xl font-bold text-white",children:"Kréyatik Studio"})]}),a("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white",children:a("i",{className:"fas fa-times text-lg"})})]}),e("div",{className:"flex items-center p-4 border-b border-gray-700",children:[a("img",{className:"h-10 w-10 rounded-full",src:C(),alt:null==(d=f.user)?void 0:d.name}),e("div",{className:"ml-3",children:[a("p",{className:"text-sm font-medium text-white",children:null==(m=f.user)?void 0:m.name}),a("p",{className:"text-xs text-gray-400",children:"Client"})]})]}),a("nav",{className:"mt-4",children:a("ul",{className:"px-2",children:w.map(r=>a("li",{className:"mb-1",children:e(t,{href:r.href,className:"flex items-center px-4 py-2 rounded-lg "+(r.active?"bg-gray-900 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"),onClick:()=>b(!1),children:[a("i",{className:`fas ${r.icon} w-5 h-5 mr-3`}),a("span",{children:r.name})]})},r.name))})}),a("div",{className:"p-4 mt-6 border-t border-gray-700",children:e("button",{onClick:k,className:"flex items-center w-full px-4 py-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-700",children:[a("i",{className:"fas fa-sign-out-alt w-5 h-5 mr-3"}),a("span",{children:"Déconnexion"})]})})]})}),e("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a("header",{className:"bg-white shadow-sm z-10",children:e("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[a("button",{onClick:()=>b(!0),className:"md:hidden text-gray-600 hover:text-gray-900",children:a("i",{className:"fas fa-bars text-lg"})}),a("button",{onClick:()=>p(!g),className:"hidden md:block text-gray-600 hover:text-gray-900",children:a("i",{className:"fas fa-bars text-lg"})}),a("h1",{className:"text-xl font-bold text-gray-800 md:ml-4",children:n}),e("div",{className:"relative",children:[e("button",{onClick:()=>y(!N),className:"flex items-center focus:outline-none",children:[a("span",{className:"hidden md:block mr-2 text-sm text-gray-700",children:null==(h=f.user)?void 0:h.name}),a("img",{className:"h-8 w-8 rounded-full",src:C(),alt:null==(u=f.user)?void 0:u.name})]}),N&&e("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[a(t,{href:"/client/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:"Mon profil"}),a("div",{className:"border-t border-gray-100"}),a("button",{onClick:k,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Déconnexion"})]})]})]})}),e("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50",children:[(null==x?void 0:x.success)&&a("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 m-4",role:"alert",children:a("p",{children:x.success})}),(null==x?void 0:x.error)&&a("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 m-4",role:"alert",children:a("p",{children:x.error})}),s]})]})]})}export{s as C};
